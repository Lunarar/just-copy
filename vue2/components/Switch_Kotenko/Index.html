<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
     
     .switch-field{
          display: grid;
          grid-template-columns: 1fr 1fr;
          width: 50px; 
          height: 25px;
          border-radius: 12px; 
          z-index: 1;
          margin: 0;
          padding: 0;
          border: none;
          cursor: pointer;
          position: relative;
          transition-duration: 300ms; 
      }

      .switch-field_off {
          background: #f50505;
      }

      .switch-field::after {
        content: "";
          height: 20px; 
          width: 20px; 
          border-radius: 18px;
          background: #fff; 
          top: -10px; 
          left: -10px; 
          transition-duration: 300ms;
          box-shadow: 0 0 10px 0 #999999; 
          position: absolute;
          z-index: 1;
      }
        
      .switch-field_off::after {
          top: 2px; 
          left: 6px; 
        }
        
      .switch-field_on { 
          background: #1aff00;  
      }
        
      .switch-field_on::after{ 
          top: 2px; 
          left: 25px; 
      }
     
      .checkbox-field_checkbox {
          position: relative; 
          top: 5;
          left: 70px;
           
      }
 
      .checkbox-text{
          position: relative; 
          top: 6;
          left: 80px;
      }
      
      .container {
        position: relative; 
        top: -25;
        z-index: 0;
      }
    </style>
    <title>Document</title>
    
</head>
<body>
  <div role="switch" class="switch-field switch-field_off" name="switch_1">
    <input type="checkbox" name="checkbox_1" class="checkbox-field_checkbox">
    <label class="checkbox-text flag-selected" for="checkbox_1">Переключатель_1</label>
  </div>
  <br>
  <div role="switch" class="switch-field switch-field_off" name="switch_2"></div>
  <div class="container">
    <input type="checkbox" name="checkbox_2" class="checkbox-field_checkbox">
    <label class="checkbox-text flag-selected" for="checkbox_2">Переключатель_2</label>
</div>
</body>

<script>
  const labels = document.querySelectorAll('.checkbox-text');
  const checkboxes = document.querySelectorAll('.checkbox-field_checkbox');

  labels.forEach(function(label) {
    label.addEventListener('click', function() {
      const checkbox = document.querySelector(`input[name="${this.getAttribute('for')}"]`);
      checkbox.checked = !checkbox.checked;
    });
  }); 

  const switchButtons = document.querySelectorAll('.switch-field');
  switchButtons.forEach(function(switchButton) {
    switchButton.addEventListener('click', function(event) {
      const target = event.currentTarget;
      const checkbox = target.querySelector('.checkbox-field_checkbox');
      if (target.classList.contains('switch-field_on')) {
        target.classList.remove('switch-field_on');
        target.classList.add('switch-field_off');
        checkbox.checked = false;
      } else {
        target.classList.remove('switch-field_off');
        target.classList.add('switch-field_on');
        checkbox.checked = true;
      }
    });
  });
</script>
</html>
